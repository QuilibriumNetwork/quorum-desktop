# Rename .agents to .agents

> **⚠️ AI-Generated**: May contain errors. Verify before use.

## Overview

Rename the `.agents/` folder to `.agents/` to better reflect its purpose as a repository for Claude Code agents, tasks, documentation, and development resources.

## Prerequisites

- [ ] User performs initial search & replace of `.agents` → `.agents` across all files
- [ ] Physical folder rename: `mv .agents .agents`

## Post-Rename Verification Checklist

### 1. Core TypeScript/JavaScript Files

- [ ] **`src/dev/docs/utils/scanMarkdownFiles.cjs`**
  - Line 42: `readmeRoot` variable name (optional rename for clarity)
  - Lines 45-47: Verify path scanning logic still works
  - Test: Run the script to ensure it finds files in `.agents/`

- [ ] **`src/dev/docs/hooks/useMarkdownFiles.ts`**
  - Line 30: Path stripping logic `.replace(/^\.agents\//, '')` → `.replace(/^\.agents\//, '')`
  - Lines 169-189: Error message fallback content references to `.agents`
  - Test: Load dev dashboard and verify files display correctly

- [ ] **`src/dev/docs/utils/markdownLoader.ts`**
  - Lines 110, 120-136: String references in hardcoded fallback data
  - Note: This uses hardcoded fallback data, verify paths are updated

### 2. Build & Configuration Files

- [ ] **`web/vite.config.ts`**
  - Line 70-71: `allow` array and comment: `allow: ['..', '.agents']` → `allow: ['..', '.agents']`
  - Test: Run `yarn dev` and verify markdown files are served correctly

- [ ] **`mobile/metro.config.js`**
  - Line 34: Comment reference (cosmetic)

### 3. UI Component Files (Comments/Strings)

- [ ] **`src/dev/docs/Tasks.tsx`**
  - Line 42: Comment about path structure
  - Line 117: UI text "Browse all task files from .agents/tasks/"
  - Test: View /dev/tasks route and verify display text

- [ ] **`src/dev/docs/Docs.tsx`**
  - Line 40: Comment about path structure
  - Line 99: UI text "Browse all documentation files from .agents/docs/"
  - Test: View /dev/docs route and verify display text

- [ ] **`src/dev/docs/Bugs.tsx`**
  - Line 91: UI text "Browse all bug reports from .agents/bugs/"
  - Test: View /dev/bugs route and verify display text

### 4. Generated Files

- [ ] **`src/dev/docs/utils/markdownFiles.json`**
  - 146 path references need updating
  - **Action**: Delete this file and regenerate it:
    ```bash
    cd /mnt/d/GitHub/Quilibrium/quorum-desktop
    node .agents/update-index.py
    node src/dev/docs/utils/scanMarkdownFiles.cjs
    ```

### 5. Python Scripts

- [ ] **`.agents/update-index.py`** (formerly `.agents/update-index.py`)
  - Verify script runs correctly from new location
  - Test: Run `python3 .agents/update-index.py` and verify INDEX.md is updated

### 6. Documentation Files

- [ ] **`CLAUDE.md`**
  - Lines 121-139: Section "Claude Code Development Resources"
  - Update all references from `.agents/` → `.agents/`
  - Update section heading if desired (optional)

- [ ] **`AGENTS.md`**
  - Line 2-3: References to `.agents/` folder
  - Update introduction/overview text

- [ ] **`README.md`**
  - Any references to `.agents/` folder structure

- [ ] **`.agents/INDEX.md`** (if exists)
  - Should be regenerated by update-index.py script

- [ ] **All markdown files in `.agents/` subfolders**
  - Cross-references between docs, tasks, and bugs
  - Verify internal links still work

### 7. Other Locations to Check

- [ ] **`.claude/commands/index-update.md`**
  - Line 2: Command that references `.agents/update-index.py`
  - Update to `.agents/update-index.py`

- [ ] **Any TypeScript/JSX files with comments referencing `.agents`**
  - `src/components/user/UserProfile.tsx`
  - `src/components/user/UserOnlineStateIndicator.tsx`
  - `src/shims/quilibrium-sdk-channels.native.tsx`
  - `src/components/onboarding/Onboarding.native.tsx`
  - `src/components/onboarding/Login.native.tsx`

### 8. Git & Version Control

- [ ] Check `.gitignore` for any `.agents` specific rules
- [ ] Commit the rename as a single atomic commit
- [ ] Verify no broken references in git history/logs (informational only)

## Testing Checklist

### Functional Tests

- [ ] **Dev Dashboard**: Navigate to `/dev` and verify all three sections work:
  - [ ] Docs section loads and displays files
  - [ ] Tasks section loads and displays files
  - [ ] Bugs section loads and displays files

- [ ] **File Navigation**: Click into individual files:
  - [ ] Markdown content loads correctly
  - [ ] Back navigation works
  - [ ] URL slugs work correctly

- [ ] **Index Generation**:
  - [ ] Run update-index.py script
  - [ ] Verify INDEX.md is generated correctly
  - [ ] Check file counts and structure

- [ ] **Build Process**:
  - [ ] `yarn build` completes without errors
  - [ ] Production build serves dev dashboard correctly

### Code Tests

- [ ] Search codebase for any remaining `.agents` references:
  ```bash
  grep -r "\.agents" --exclude-dir=node_modules --exclude-dir=.git --exclude-dir=dist
  ```

- [ ] Check for broken imports:
  ```bash
  cmd.exe /c "cd /d D:\GitHub\Quilibrium\quorum-desktop && npx tsc --noEmit"
  ```

## Rollback Plan

If issues arise:

1. Rename folder back: `mv .agents .agents`
2. Restore all file changes from git: `git restore .`
3. Regenerate markdownFiles.json if needed

## Notes

- The folder rename is primarily cosmetic but touches many parts of the system
- Most references are in strings, comments, and configuration
- The dev dashboard is the primary consumer of this data
- Consider whether `.agents` is the best name - alternatives: `.dev`, `.docs`, `.meta`

---

_Created: 2025-10-07 by Claude Code_
