{
  "metadata": {
    "created": "2025-08-09",
    "description": "Component dependency hierarchy analysis for mobile development strategy",
    "purpose": "Guide mobile component development from simple to complex",
    "analysis_basis": "Import statements from 64 audited components"
  },
  "dependency_levels": {
    "level_0_primitives": {
      "description": "Base primitive components with no component dependencies - BUILD THESE FIRST",
      "count": 20,
      "components": [
        "Button",
        "Container", 
        "FlexRow",
        "FlexColumn",
        "FlexCenter",
        "FlexBetween",
        "Text",
        "Icon",
        "Input",
        "TextArea",
        "Modal",
        "ModalContainer",
        "Tooltip",
        "Switch",
        "Select",
        "FileUpload",
        "ColorSwatch",
        "RadioGroup",
        "ResponsiveContainer",
        "Spacer"
      ],
      "mobile_status": "All have both .web.tsx and .native.tsx implementations",
      "priority": "HIGHEST - Required for all other components"
    },
    "level_1_simple": {
      "description": "Simple components that only depend on primitives - BUILD THESE SECOND",
      "count": 8,
      "components": [
        {
          "name": "CloseButton",
          "dependencies": ["Icon"],
          "status": "platform_specific",
          "notes": "Simple component, just needs Icon primitive"
        },
        {
          "name": "Loading",
          "dependencies": [],
          "status": "platform_specific", 
          "notes": "Animation only, no component dependencies"
        },
        {
          "name": "ThemeRadioGroup",
          "dependencies": ["RadioGroup"],
          "status": "shared",
          "mobile_ready": true,
          "notes": "Already has native implementation"
        },
        {
          "name": "AccentColorSwitcher", 
          "dependencies": ["ColorSwatch", "FlexRow"],
          "status": "shared",
          "mobile_ready": true,
          "notes": "Already has native implementation"
        },
        {
          "name": "Maintenance",
          "dependencies": ["Button", "Icon"],
          "status": "platform_specific",
          "mobile_ready": true,
          "notes": "Already has native implementation"
        },
        {
          "name": "ClickToCopyContent",
          "dependencies": ["Container", "Icon", "Text", "Tooltip"],
          "status": "platform_specific",
          "notes": "Uses only primitives, touch handling differs"
        },
        {
          "name": "UserOnlineStateIndicator",
          "dependencies": [],
          "status": "platform_specific",
          "notes": "No component dependencies, just styling"
        },
        {
          "name": "QuickReactionButton",
          "dependencies": [],
          "status": "platform_specific", 
          "notes": "No component dependencies, touch/hover behavior differs"
        }
      ],
      "priority": "HIGH - Foundation for mid-level components"
    },
    "level_2_moderate": {
      "description": "Components with moderate dependencies - BUILD THESE THIRD",
      "count": 12,
      "components": [
        {
          "name": "SpaceIcon",
          "dependencies": ["Tooltip"],
          "status": "platform_specific",
          "notes": "Depends on Tooltip primitive, image loading logic extracted"
        },
        {
          "name": "UserStatus", 
          "dependencies": ["UserOnlineStateIndicator", "ClickToCopyContent"],
          "status": "platform_specific",
          "notes": "Depends on 2 level-1 components"
        },
        {
          "name": "InviteLink",
          "dependencies": ["Button", "Container", "Text", "FlexRow"],
          "status": "platform_specific", 
          "notes": "Only primitive dependencies"
        },
        {
          "name": "MessageActions",
          "dependencies": ["Tooltip", "Icon"],
          "status": "platform_specific",
          "notes": "Floating toolbar, mobile needs drawer approach"
        },
        {
          "name": "MessageComposer",
          "dependencies": ["TextArea", "Button", "Icon", "FlexRow", "Tooltip"],
          "status": "platform_specific",
          "notes": "Only primitive dependencies but complex layout"
        },
        {
          "name": "SearchResultItem", 
          "dependencies": ["Container", "Text", "Icon", "FlexBetween", "FlexRow"],
          "status": "platform_specific",
          "notes": "Only primitive dependencies"
        },
        {
          "name": "KickUserModal",
          "dependencies": ["Button", "Modal", "Container", "Text", "FlexRow"],
          "status": "shared",
          "notes": "Only primitive dependencies, cross-platform ready"
        },
        {
          "name": "NewDirectMessageModal",
          "dependencies": ["Input", "Button", "Modal", "Container", "Text"], 
          "status": "shared",
          "notes": "Only primitive dependencies, cross-platform ready"
        },
        {
          "name": "LeaveSpaceModal",
          "dependencies": ["Button", "Modal", "Container", "Text", "FlexRow"],
          "status": "shared", 
          "notes": "Only primitive dependencies, cross-platform ready"
        },
        {
          "name": "EmptyDirectMessage",
          "dependencies": ["Container", "FlexRow", "FlexColumn", "Text", "Icon"],
          "status": "platform_specific",
          "notes": "Only primitive dependencies"
        },
        {
          "name": "SearchBar",
          "dependencies": ["primitives"],
          "status": "platform_specific",
          "notes": "Uses primitives but has SCSS dependencies"
        },
        {
          "name": "ActionMenuItem",
          "dependencies": [],
          "status": "platform_specific",
          "notes": "Simple menu item, FontAwesome dependency"
        }
      ],
      "priority": "MEDIUM-HIGH - Build after primitives and simple components"
    },
    "level_3_complex": {
      "description": "Complex components with multiple dependencies - BUILD THESE FOURTH", 
      "count": 15,
      "components": [
        {
          "name": "UserProfile",
          "dependencies": ["Button", "Container", "FlexRow", "Text", "Icon", "UserOnlineStateIndicator", "ClickToCopyContent"],
          "status": "platform_specific",
          "notes": "Depends on multiple level-1 and level-2 components"
        },
        {
          "name": "SpaceButton",
          "dependencies": ["SpaceIcon"],
          "status": "platform_specific", 
          "notes": "Depends on level-2 SpaceIcon"
        },
        {
          "name": "DirectMessageContact",
          "dependencies": [],
          "status": "platform_specific",
          "notes": "No direct component deps but uses SCSS"
        },
        {
          "name": "JoinSpaceModal", 
          "dependencies": ["SpaceIcon", "primitives"],
          "status": "shared",
          "notes": "Depends on level-2 SpaceIcon"
        },
        {
          "name": "ExpandableNavMenu",
          "dependencies": ["Icon", "Tooltip", "FlexColumn", "Container"],
          "status": "platform_specific",
          "notes": "Only primitive dependencies but complex behavior"
        },
        {
          "name": "GlobalSearch",
          "dependencies": ["SearchBar", "SearchResults", "Container"],
          "status": "platform_specific",
          "notes": "Depends on other search components"
        },
        {
          "name": "SearchResults",
          "dependencies": ["SearchResultItem", "Container", "Text", "Icon", "FlexCenter"],
          "status": "platform_specific",
          "notes": "Depends on level-2 SearchResultItem"
        },
        {
          "name": "MessageActionsDrawer",
          "dependencies": ["QuickReactionButton", "ActionMenuItem", "MobileDrawer"],
          "status": "platform_specific",
          "notes": "Depends on level-1 components and MobileDrawer"
        },
        {
          "name": "EmojiPickerDrawer",
          "dependencies": ["MobileDrawer"],
          "status": "platform_specific",
          "notes": "Depends on MobileDrawer"
        },
        {
          "name": "ChannelGroup",
          "dependencies": [],
          "status": "platform_specific",
          "notes": "SCSS dependencies, FontAwesome"
        },
        {
          "name": "CreateSpaceModal",
          "dependencies": ["Input", "Button", "Modal", "Switch", "Icon", "Tooltip", "SpaceIcon", "ReactTooltip"],
          "status": "platform_specific",
          "notes": "Many primitive deps plus level-2 SpaceIcon"
        },
        {
          "name": "UserSettingsModal",
          "dependencies": ["ThemeRadioGroup", "AccentColorSwitcher", "ClickToCopyContent", "ReactTooltip", "primitives"],
          "status": "platform_specific",
          "notes": "Depends on multiple level-1 components"
        },
        {
          "name": "GroupEditor",
          "dependencies": ["Modal", "Container", "FlexRow", "Input", "Button", "Text", "Icon"],
          "status": "platform_specific",
          "notes": "Only primitive dependencies but SCSS"
        },
        {
          "name": "ChannelEditor", 
          "dependencies": ["Modal", "Container", "FlexRow", "Input", "Button", "Text", "Icon"],
          "status": "platform_specific",
          "notes": "Only primitive dependencies but SCSS"
        },
        {
          "name": "Login",
          "dependencies": ["Button"],
          "status": "platform_specific",
          "mobile_ready": true,
          "notes": "Already has native implementation"
        }
      ],
      "priority": "MEDIUM - Build after foundation components"
    },
    "level_4_very_complex": {
      "description": "Very complex components with deep dependency chains - BUILD THESE FIFTH",
      "count": 9,
      "components": [
        {
          "name": "Message", 
          "dependencies": ["UserProfile", "InviteLink", "MessageActions", "FlexColumn", "FlexRow", "Container", "Text", "Icon", "Tooltip"],
          "status": "platform_specific",
          "notes": "Depends on multiple level-2 and level-3 components"
        },
        {
          "name": "MessageList",
          "dependencies": ["Message"],
          "status": "platform_specific", 
          "notes": "Depends on level-4 Message, virtualization differs per platform"
        },
        {
          "name": "NavMenu",
          "dependencies": ["ExpandableNavMenu", "SpaceButton", "SpaceIcon"],
          "status": "platform_specific",
          "notes": "Depends on multiple level-2 and level-3 components"
        },
        {
          "name": "DirectMessageContactsList",
          "dependencies": ["DirectMessageContact", "Container", "FlexColumn", "FlexBetween", "Icon"],
          "status": "platform_specific",
          "notes": "Depends on level-3 DirectMessageContact"
        },
        {
          "name": "ChannelList",
          "dependencies": ["ChannelGroup", "Button", "Container", "Icon", "Text"],
          "status": "platform_specific",
          "notes": "Depends on level-3 ChannelGroup"
        },
        {
          "name": "SpaceEditor",
          "dependencies": ["ClickToCopyContent", "ReactTooltip", "primitives"],
          "status": "platform_specific", 
          "notes": "Complex modal with many features"
        },
        {
          "name": "Onboarding",
          "dependencies": ["Input", "Icon", "Button", "Tooltip", "FileUpload"],
          "status": "platform_specific",
          "mobile_ready": true,
          "notes": "Already has native implementation"
        },
        {
          "name": "DirectMessages", 
          "dependencies": ["DirectMessageContactsList", "DirectMessage", "UserStatus", "EmptyDirectMessage", "NewDirectMessageModal", "ReactTooltip"],
          "status": "platform_specific",
          "notes": "Layout component with many dependencies"
        },
        {
          "name": "Space",
          "dependencies": ["ChannelList", "Channel", "UserStatus"],
          "status": "platform_specific",
          "notes": "Layout component depending on very complex children"
        }
      ],
      "priority": "LOW-MEDIUM - Build after most components are ready"
    },
    "level_5_super_complex": {
      "description": "Super complex layout and coordination components - BUILD THESE LAST",
      "count": 10,
      "components": [
        {
          "name": "Channel",
          "dependencies": ["MessageList", "GlobalSearch", "Button", "Icon", "KickUserModal"],
          "status": "platform_specific",
          "notes": "Main chat view, depends on level-4 MessageList and complex search"
        },
        {
          "name": "DirectMessage", 
          "dependencies": ["MessageList", "ClickToCopyContent", "GlobalSearch", "Button", "Container", "FlexRow", "FlexColumn", "Text"],
          "status": "platform_specific",
          "notes": "DM view, depends on level-4 MessageList"
        },
        {
          "name": "Layout",
          "dependencies": ["NavMenu", "CloseButton", "ResponsiveContainer", "Container", "CreateSpaceModal", "Connecting"],
          "status": "shared", 
          "notes": "Main app layout, depends on level-4 NavMenu"
        },
        {
          "name": "ModalProvider",
          "dependencies": ["UserSettingsModal", "SpaceEditor", "ChannelEditor", "GroupEditor", "LeaveSpaceModal"],
          "status": "platform_specific",
          "notes": "Coordinates all modals, depends on multiple level-3 components"
        },
        {
          "name": "MobileProvider", 
          "dependencies": ["MessageActionsDrawer", "EmojiPickerDrawer"],
          "status": "platform_specific",
          "notes": "Mobile-specific coordination"
        },
        {
          "name": "InviteRoute",
          "dependencies": ["JoinSpaceModal", "ModalProvider", "MobileProvider", "SidebarProvider", "Layout"],
          "status": "platform_specific",
          "notes": "Route component with many provider dependencies"
        },
        {
          "name": "WebsocketProvider",
          "dependencies": ["QuorumApiContext"],
          "status": "shared",
          "mobile_ready": true,
          "notes": "Already cross-platform"
        },
        {
          "name": "QuorumApiContext", 
          "dependencies": [],
          "status": "shared",
          "mobile_ready": true,
          "notes": "Already cross-platform"
        },
        {
          "name": "MessageDB",
          "dependencies": ["QuorumApiContext", "WebsocketProvider"],
          "status": "shared",
          "mobile_ready": true, 
          "notes": "Already cross-platform"
        },
        {
          "name": "RegistrationPersister",
          "dependencies": ["Button", "MessageDB", "QuorumApiContext"],
          "status": "shared",
          "notes": "Context provider with minimal UI dependencies"
        }
      ],
      "priority": "LOWEST - Integration and coordination components"
    }
  },
  "mobile_development_strategy": {
    "phase_1_foundations": {
      "description": "Build primitive components foundation",
      "components_count": 20,
      "estimated_effort": "1-2 weeks", 
      "status": "COMPLETE - All primitives have .native.tsx implementations",
      "next_action": "Verify all primitives work correctly in mobile playground"
    },
    "phase_2_simple_components": {
      "description": "Build simple components that only use primitives",
      "components_count": 8,
      "estimated_effort": "1 week",
      "status": "IN PROGRESS - Some complete (ThemeRadioGroup, AccentColorSwitcher, Maintenance)", 
      "priority_order": [
        "CloseButton",
        "Loading", 
        "ClickToCopyContent",
        "UserOnlineStateIndicator",
        "QuickReactionButton"
      ],
      "next_action": "Create .native.tsx versions of remaining level-1 components"
    },
    "phase_3_moderate_components": {
      "description": "Build components with moderate dependencies",
      "components_count": 12,
      "estimated_effort": "2-3 weeks",
      "status": "NOT STARTED",
      "priority_order": [
        "SpaceIcon",
        "InviteLink", 
        "MessageActions",
        "MessageComposer",
        "KickUserModal",
        "NewDirectMessageModal", 
        "LeaveSpaceModal",
        "SearchResultItem",
        "EmptyDirectMessage",
        "UserStatus",
        "SearchBar",
        "ActionMenuItem"
      ]
    },
    "phase_4_complex_components": {
      "description": "Build complex components with multiple dependencies", 
      "components_count": 15,
      "estimated_effort": "3-4 weeks",
      "status": "PARTIALLY STARTED - Login and Onboarding complete",
      "notes": "Some components like Login/Onboarding already done due to authentication priority"
    },
    "phase_5_very_complex": {
      "description": "Build very complex components with deep dependency chains",
      "components_count": 9, 
      "estimated_effort": "4-5 weeks",
      "status": "NOT STARTED",
      "notes": "These are the main feature components - Message, MessageList, NavMenu, etc."
    },
    "phase_6_integration": {
      "description": "Build super complex layout and coordination components",
      "components_count": 10,
      "estimated_effort": "2-3 weeks",
      "status": "PARTIALLY STARTED - Some context providers already cross-platform",
      "notes": "Final integration of all components into working mobile app"
    }
  },
  "immediate_next_steps": {
    "current_phase": "Phase 2 - Simple Components",
    "ready_to_build": [
      {
        "name": "CloseButton",
        "reason": "Only depends on Icon primitive (available)",
        "effort": "1-2 hours",
        "notes": "Simple component, just needs native button with X icon"
      },
      {
        "name": "Loading", 
        "reason": "No component dependencies, just animation",
        "effort": "2-3 hours", 
        "notes": "Different animation approach needed for React Native"
      },
      {
        "name": "UserOnlineStateIndicator",
        "reason": "No component dependencies",
        "effort": "1 hour",
        "notes": "Simple colored dot indicator"
      },
      {
        "name": "QuickReactionButton",
        "reason": "No component dependencies", 
        "effort": "2-3 hours",
        "notes": "Touch-friendly emoji reaction button"
      },
      {
        "name": "ClickToCopyContent",
        "reason": "Depends only on primitives (Container, Icon, Text, Tooltip)",
        "effort": "3-4 hours",
        "notes": "Native clipboard API different from web"
      }
    ]
  },
  "dependencies_analysis": {
    "most_imported_components": [
      {
        "name": "primitives/*",
        "imported_by_count": "50+",
        "notes": "All primitive components are heavily used"
      },
      {
        "name": "SpaceIcon", 
        "imported_by_count": 4,
        "imported_by": ["NavMenu", "SpaceButton", "CreateSpaceModal", "JoinSpaceModal"]
      },
      {
        "name": "ClickToCopyContent",
        "imported_by_count": 4,
        "imported_by": ["SpaceEditor", "DirectMessage", "UserStatus", "UserProfile", "UserSettingsModal"]
      },
      {
        "name": "ReactTooltip",
        "imported_by_count": 4, 
        "imported_by": ["SpaceEditor", "DirectMessages", "CreateSpaceModal", "UserSettingsModal"],
        "notes": "Legacy component - should migrate to Tooltip primitive"
      }
    ],
    "circular_dependencies": "None detected",
    "problematic_patterns": [
      {
        "issue": "SCSS dependencies in many components",
        "affected_count": 35,
        "solution": "Each component needs .native.tsx version with different styling approach"
      },
      {
        "issue": "Platform-specific libraries (FontAwesome, react-virtuoso)", 
        "affected_components": ["MessageList", "SearchResults", "ActionMenuItem"],
        "solution": "Use different libraries on mobile (FlatList, native icons)"
      }
    ]
  }
}