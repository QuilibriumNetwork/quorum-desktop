/* === EMOJI PICKER THEMING === */
@use 'variables' as *;

/* Base theming using CSS variables */
.EmojiPickerReact {
  /* Panel styling */
  box-shadow: $shadow-lg !important;

  /* Backgrounds */
  --epr-bg-color: var(--color-bg-modal) !important;
  --epr-category-label-bg-color: var(--color-bg-modal) !important;
  --epr-search-input-bg-color: var(--color-field-bg) !important;
  --epr-hover-bg-color: var(--surface-3) !important;
  --epr-focus-bg-color: var(--surface-3) !important;
  --epr-search-input-bg-color-active: var(--color-field-bg) !important;
  --epr-search-input-focus-bg-color: var(--color-field-bg-focus) !important;

  /* Borders */
  --epr-picker-border-color: var(--color-border-default) !important;
  --epr-search-input-border-color: var(--color-border-default) !important;
  --epr-search-border-color: var(--accent) !important;

  /* Text */
  --epr-text-color: var(--color-text-main) !important;
  --epr-search-input-focus-bg-color: var(--color-field-bg-focus) !important;
  --epr-search-input-placeholder-color: var(--color-text-subtle) !important;
  --epr-category-label-text-color: var(--color-text-subtle) !important;

  /* UI sizing - standardized across all instances */
  --epr-category-navigation-button-size: 38px !important;
  --epr-emoji-size: 28px !important;
  --epr-emoji-gap: 6px !important;
}

/* Global EmojiPicker fixes and customizations */
.EmojiPickerReact {
  // Apply default app font
  font-family: Sen, sans-serif !important;

  * {
    font-family: inherit !important;
  }

  // Category button fixes - global for all instances
  .epr-category-nav button,
  .epr-cat-btn {
    // Remove browser focus outlines
    &:focus,
    &:focus-visible {
      outline: none !important;
      box-shadow: none !important;
      border: none !important;
    }

    // Remove ALL pseudo-elements that cause icon disappearing
    &::before,
    &::after {
      display: none !important;
      content: none !important;
    }

    // Ensure icons stay visible on all interactive states
    &:focus,
    &:hover,
    &:active,
    &.epr-active {
      opacity: 1 !important;

      * {
        opacity: 1 !important;
        visibility: visible !important;
      }
    }
  }

  // Search input styling - simple overrides
  .epr-search {
    &::placeholder {
      color: var(--color-field-placeholder) !important;
    }
  }

  // Emoji hover/active/focus states - remove any borders/outlines
  .epr-emoji-img,
  .epr-emoji-native,
  button[class*='epr-emoji'] {
    &:hover,
    &:active,
    &:focus,
    &:focus-visible {
      border: none !important;
      outline: none !important;
      box-shadow: none !important;
      -webkit-tap-highlight-color: transparent !important;
    }
  }

  // Category labels - smaller, uppercase for a cleaner look
  .epr-emoji-category-label {
    font-size: $text-xs !important;
    font-weight: $font-medium !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
    padding: $s-2 $s-3 !important;
  }

  // Skin tone picker
  .epr-skin-tone-select button {
    &.epr-active,
    &:hover,
    &:active,
    &:focus,
    &:focus-visible {
      border-color: var(--accent) !important;
    }
  }
}
