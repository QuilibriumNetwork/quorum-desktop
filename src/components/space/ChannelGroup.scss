@use '../../styles/variables' as *;

.channel-group {
  padding: $s-2-5 $s-4;
  line-height: $text-2xl-lh;
}

.channel-group-name {
  font-weight: $font-bold;
  font-size: $text-lg;
  overflow: hidden;
}

.channel-group .channel {
  padding: 0 0 0 $s-2-5;
}

.channel-group .channel-name {
  font-weight: $font-normal;
  color: var(--color-text-subtle);
  cursor: pointer;
}

.channel-configure {
  display: none;
  align-items: center;
  justify-content: center;
}

// Only apply hover styles on devices with true hover capability (mouse/trackpad)
@media (hover: hover) and (pointer: fine) {
  .channel-group .channel-name:hover {
    background: var(--color-bg-sidebar-hover);
    padding: 0 $s-4;
    margin: 0 (-$s-4);
    border-radius: $rounded-lg 0 0 $rounded-lg;
    color: var(--color-text-main);

    .channel-configure {
      display: flex !important;
    }
  }
}

.channel-group .channel-name-focused {
  font-weight: $font-bold;
  background: var(--color-bg-sidebar-active);
  padding: 0 $s-4;
  margin: 0 (-$s-4);
  color: var(--color-text-main);
  border-radius: $rounded-lg 0 0 $rounded-lg;
}

@media (hover: hover) and (pointer: fine) {
  .channel-group .channel-name-focused:hover {
    .channel-configure {
      display: flex !important;
    }
  }
}

// Unified mention badge for all mention types (@user, @role, @everyone)
// Uses single style regardless of mention type (Discord approach)
// Light theme: accent-400, Dark theme: accent-600
.channel-mentions-bubble {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: $s-4-5;
  height: $s-4-5;
  padding: 0 $s-1;
  border-radius: $rounded-full;
  margin-left: 0;
  font-weight: $font-bold;
  font-size: $text-xs;
  line-height: 1;
  text-align: center;
  color: white;
  background-color: var(--accent-400);

  // Mobile phone optimization - slightly smaller bubble
  @media (max-width: $screen-xs) {
    min-width: $s-4;
    height: $s-4;
    font-size: 11px;
    margin-left: $s-1-5;
    // Ensure centering is maintained on mobile
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
}

html.dark .channel-mentions-bubble {
  background-color: var(--accent-600);
}

// Channel icon container with pin overlay and unread dot
.channel-icon-container {
  position: relative;
  display: inline-block;
  flex-shrink: 0;
}

.channel-pin-overlay {
  position: absolute;
  top: -$s-1;
  right: $s-3;
  width: $s-3;
  height: $s-3;
  z-index: 10;
  border-radius: $rounded-full;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(-45deg);

  .pin-icon {
    font-size: $s-2;
  }
}

// Channel unread dot indicator - defined in src/styles/_components.scss

// Mobile layout
@media (max-width: 1023px) {
  .channel-group .channel {
    padding: 0 $s-2-5;
  }

  .channel-group .channel-name-focused {
    border-radius: $rounded-lg;
  }
}

// Mobile hover (only on devices with true hover capability)
@media (max-width: 1023px) and (hover: hover) and (pointer: fine) {
  .channel-group .channel-name:hover {
    border-radius: $rounded-lg;
  }
}
