@use '@/styles/variables' as *;

.direct-messages-container {
  display: flex;
  flex-direction: row;
  justify-content: stretch;
  height: 100%;
  width: 100%;

  // Mobile layout - ensure main content expands when sidebar is hidden
  @media (max-width: 1023px) {
    // When sidebar is hidden, the container should flex properly
    > * {
      flex: 1; // All direct children (DirectMessage component) should expand
      width: 100%;
      max-width: 100%;
    }
  }
}

.direct-messages-container-channels {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: var(--sidebar-left-width);
  min-width: var(--sidebar-left-width);
  max-width: var(--sidebar-left-width);
  overflow: hidden; // Ensure the container itself doesn't scroll
  position: relative;

  // Mobile responsive behavior - smooth slide animation with proper hiding
  @media (max-width: 1023px) {
    display: flex;
    position: fixed;
    top: 0;
    left: calc(
      $nav-header-width - var(--sidebar-left-width)
    ); // Position so that when translateX(-100%) it's completely hidden
    width: var(--sidebar-left-width);
    height: 100vh;
    background-color: var(--color-bg-sidebar);
    z-index: 998;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    box-shadow: $s-px 0 $s-2 rgba(0, 0, 0, 0.15);
    transform: translateX(-100%); // Hidden: move completely left
    transition: transform $duration-300 $ease-in-out;

    &.open {
      transform: translateX(100%); // Visible: slide to navbar edge position
    }

    // When NavMenu is hidden, start from left edge (0px)
    &.nav-menu-hidden {
      left: calc(0px - var(--sidebar-left-width));

      &.open {
        transform: translateX(100%); // Still slides to visible position
      }
    }

    // Phone-specific positioning for smaller NavMenu
    @media (max-width: 480px) {
      left: calc($nav-header-width-mobile - var(--sidebar-left-width)); // Adjust for smaller navbar

      &.nav-menu-hidden {
        left: calc(0px - var(--sidebar-left-width));
      }
    }
  }
}
