// Mobile Emoji Picker Drawer Specific Styles
@use '@/styles/variables' as *;

// Tab bar for Emojis / Stickers switching
.emoji-picker-drawer__tabs {
  display: flex;
  border-bottom: $border solid var(--color-border-default);
  flex-shrink: 0;
  padding: 0 $s-4;
}

.emoji-picker-drawer__tab {
  flex: 1;
  padding: $s-3;
  font-size: $text-base;
  font-weight: $font-medium;
  color: var(--color-text-subtle);
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  cursor: pointer;
  transition: color $duration-200 $ease-in-out, border-color $duration-200 $ease-in-out;
  min-height: 44px; // Touch target

  &:hover {
    color: var(--color-text-main);
  }

  &.active {
    color: var(--color-text-main);
    border-bottom-color: var(--accent);
  }
}

// Sticker grid inside the mobile drawer
.emoji-picker-drawer__stickers {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-auto-rows: min-content;
  gap: $s-2;
  padding: $s-4;
  overflow-y: auto;
  flex: 1;
}

.emoji-picker-drawer__content {
  flex: 1;
  overflow: hidden;
  padding: $s-4; // Standard padding for non-list content

  // Override emoji picker styles for mobile drawer
  .EmojiPickerReact {
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    background: transparent !important;

    // Match category label bg to drawer background (drawer uses surface-0, not surface-2)
    --epr-category-label-bg-color: var(--color-bg-mobile-drawer) !important;
    --epr-bg-color: var(--color-bg-mobile-drawer) !important;

    // Remove excessive header padding
    --epr-header-padding: 0 !important;

    // Increase preview height for mobile drawer
    --epr-preview-height: 90px !important;

    // Ensure proper sizing
    width: 100% !important;

    // Mobile drawer uses global sizing (no overrides needed)

    // Mobile-optimized search
    .epr-search-container {
      padding: 0 $s-2 $s-2 $s-2;
    }

    .epr-search {
      font-size: $text-base; // Prevent iOS zoom
      padding: $s-3 $s-4;
      border-radius: $rounded-xl;
    }

    // Category navigation - smaller icons for mobile
    --epr-category-navigation-button-size: 28px !important;

    .epr-category-nav {
      padding: $s-2 $s-1;
      gap: $s-1;
    }

    // Emoji body
    .epr-body {
      height: 500px; // Much taller for mobile
    }

    // Individual emoji categories - make them taller (but exclude frequently used)
    .epr-emoji-category:not([data-name='suggested']) {
      min-height: 400px !important;
    }

    // Keep frequently used section compact
    .epr-emoji-category[data-name='suggested'] {
      min-height: auto !important;
      max-height: 120px !important;
    }

    // Preview section
    .epr-preview {
      padding: $s-3;
      border-top: $border solid var(--surface-3);
      min-height: $s-16;
    }
  }
}

// Responsive adjustments
@media (max-width: 375px) {
  .emoji-picker-drawer__content {

    .EmojiPickerReact {
      // Size variables handled globally, only drawer-specific heights here
      .epr-body {
        height: 420px; // Much taller even on small screens
      }

      .epr-emoji-category:not([data-name='suggested']) {
        min-height: 350px !important;
      }

      .epr-emoji-category[data-name='suggested'] {
        min-height: auto !important;
        max-height: 100px !important;
      }
    }
  }
}
